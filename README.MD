````markdown
# ğŸš— Mashina.kg Car Listing Crawler

A fast, **asynchronous** crawler that collects detailed car listings from  
[m.mashina.kg](https://m.mashina.kg), extracts structured vehicle data, and saves the
results as JSON for further analysis or integration.

**Author:** Danil  
**Created:** 2025-06-22  
**Python version:** 3.8 +

---

## ğŸ“Œ Features

| Feature                                                                      | Status |
|------------------------------------------------------------------------------|--------|
|Collect links from **all** paginated search pages                             |   âœ…   |
|Parse each car-detail page **concurrently**                                   |   âœ…   |
|Extract brand, model, year, mileage, prices, configuration, seller info, VIN â€¦|   âœ…   |
|Save aggregated data to `full_results.json`                                   |   âœ…   |
|Modular extractor system â€” easy to test & extend                              |   âœ…   |

---

## ğŸ›  Installation

```bash
git clone https://github.com/KrutayaBabka/Mashina.kg-Car-Listing-Crawler.git
cd Mashina.kg-Car-Listing-Crawler

python -m venv venv
# Windows
venv\Scripts\activate
# Linux / macOS
# source venv/bin/activate

pip install -r requirements.txt
````

---

## ğŸš€ Usage

```bash
python src/main.py
```

**Output**

* Parsed listingsâ€ƒâ†’ `full_results.json`
* Logsâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ†’ `app.log`

---

## ğŸ“ Project Structure

```
src/
â”‚
â”œâ”€â”€ main.py                    # Entry point
â”œâ”€â”€ config.py                  # Global constants & logging
â”‚
â”œâ”€â”€ services/
â”‚   â””â”€â”€ crawl_service.py       # Orchestrates crawling & data saving
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ __init__.py            # Re-exports key helpers
â”‚   â”œâ”€â”€ fetch.py               # Synchronous HTML fetcher
â”‚   â”œâ”€â”€ pagination.py          # Page-count & URL builder
â”‚   â”œâ”€â”€ parse_listings.py      # Extracts links from listing cards
â”‚   â””â”€â”€ parse_details/         # Fine-grained extractors
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ average_price.py
â”‚       â”œâ”€â”€ breadcrumbs.py
â”‚       â”œâ”€â”€ configuration.py
â”‚       â”œâ”€â”€ contact.py
â”‚       â”œâ”€â”€ credit.py
â”‚       â”œâ”€â”€ head_info.py
â”‚       â”œâ”€â”€ history.py
â”‚       â”œâ”€â”€ images.py
â”‚       â”œâ”€â”€ seller_comment.py
â”‚       â”œâ”€â”€ specs.py
â”‚       â””â”€â”€ vin.py
â”‚
â””â”€â”€ data/
    â””â”€â”€ reference_data/        # Sample HTML pages & expected JSON output
                               # Handy for tests / debugging
```

---

## ğŸ§ª Reference Data (Optional)

Directory `data/reference_data/` contains **paired** samples:

| File     | Purpose                                   |
| -------- | ----------------------------------------- |
| `*.html` | Raw HTML saved from real Mashina.kg pages |
| `*.json` | Expected structured output for that HTML  |

Use them to â¬‡ï¸

* Validate individual extractors without hitting the live site
* Write unit-tests / regression tests (fixtures)
* Debug new extraction logic quickly

---

## ğŸ§© Dependencies

Core libraries (see `requirements.txt` for exact versions):

* `requests`
* `tqdm`
* `beautifulsoup4`
* `urllib3` (dependency of requests)
* `certifi` (dependency of requests)

---

## âœ… Logging

| File      | Details                                          |
| --------- | ------------------------------------------------ |
| `app.log` | All crawl events, warnings, errors (append mode) |
| Format    | `[YYYY-MM-DD HH:MM:SS] LEVEL: message`           |
| Config    | Defined once in **`src/config.py`**              |

---

## ğŸ“„ License

Licensed for **educational and research** purposes.
Respect the terms of service of mashina.kg and scrape responsibly.

---

## ğŸ™Œ Contributing

*Found a bug?* *Have an idea?* â€” PRs and issues are welcome!
Please follow conventional commit messages and keep functions type-annotated.

---
